---
import Download from "~/components/download.html";
import Logo from "~/components/Logo";
import { langs, useTranslations, useUrl } from "~/i18n";
import Layout from "~/layouts/Layout.astro";

export const getStaticPaths = () => {
  return langs.map((lang) => ({ params: { lang } }));
};

const lang = Astro.params.lang;
const t = useTranslations(lang);
const url = useUrl(lang);

const title = t("Download Stack");
---

<Layout lang={lang} title={title} leftTransition="fade">
  <div slot="left" class="section h-full">
    <div class="container">
      <h1 set:html={t("The *best free software* made&nbsp;*accessible*.")} />
      <p class="subtle mb-8" style="max-width: 24em">
        {t("Spin up local alternatives to")}
        <a
          href={url("/alternativesto/notion")}
          aria-label="Alternatives to Notion"
          style="white-space: nowrap"
        >
          <Logo slug="notion" />
          Notion</a
        >, <a
          href={url("/alternativesto/chatgpt")}
          aria-label="Alternatives to ChatGPT"
          style="white-space: nowrap"
        >
          <Logo slug="chatgpt" />
          ChatGPT</a
        >, <a
          href={url("/alternativesto/figma")}
          aria-label="Alternatives to Figma"
          style="white-space: nowrap"
        >
          <Logo slug="figma" />
          Figma</a
        >
        {t("and other")}
        <a
          href={url("/alternativesto")}
          aria-label="Alternatives to popular software"
          >{t("popular software")}</a
        >. {t("Remix your own.")}
      </p>
    </div>
  </div>

  <div class="section">
    <div class="container">
      <h2 set:html={t("Download Stack")} />
      <p
        class="subtle mb-8"
        set:html={t(
          "Give your desktop *superpowers*.<br />Make it run any open source quality software in a snap."
        )}
      />
      <a
        href={url("/download/mac")}
        class="inline-flex highlight hover:animate-highlight"
      >
        <Download set:html={t("Download for {os}", { os: "macOS" })} />
      </a>
      <p class="subtle my-3" style="max-width: 24em">
        <small
          set:html={t("Requires {os} {version} or later", {
            os: "macOS",
            version: "11 Big Sur",
          })}
        />
      </p>
      <br />
      <div style="columns: 3; max-width: 15em">
        <a
          href="/download/mac"
          class="bg-neutral-100 flex cursor-pointer flex-col items-center rounded-lg px-6 py-2 hover:bg-neutral-100"
          style="flex-direction: column;"
        >
          <Logo slug="apple" style={{ color: "inherit" }} />
          <span class="text-sm">macOS</span>
        </a>
        <a
          aria-disabled="true"
          class="bg-neutral-100 flex cursor-pointer flex-col items-center rounded-lg px-6 py-2 hover:bg-neutral-100"
          style="flex-direction: column;"
        >
          <Logo slug="linux" style={{ color: "inherit" }} />
          <span class="text-sm">Linux</span>
        </a>
        <a
          aria-disabled="true"
          class="bg-neutral-100 flex cursor-pointer flex-col items-center rounded-lg px-6 py-2 hover:bg-neutral-100"
          style="flex-direction: column;"
        >
          <Logo slug="microsoft" style={{ color: "inherit" }} />
          <span class="text-sm">Windows</span>
        </a>
      </div>
    </div>
  </div>
</Layout>
